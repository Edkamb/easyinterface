\documentclass[11pt,a4paper,openany]{book}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{fourier}
\usepackage{inconsolata}
\usepackage{marginnote}
\usepackage{texlinks}
\usepackage{adjustbox}
\usepackage{enumerate}
\usepackage{mdframed}
\usepackage[margin=15mm,includefoot]{geometry}  %% no header

\usepackage[draft]{fixme}

\usepackage{paralist}
\usepackage{enumitem}
\setlist{leftmargin=8mm,noitemsep} 

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage{color}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{calc,shapes,patterns,decorations.pathreplacing}
\tikzset{
    every node/.style={align=center}, 
    sepline/.style={draw,thick,black!25},
    header/.style={rectangle,draw,minimum height=4.5mm}, 
    callTo/.style={draw,thick,->},
    constraint/.style={left}, 
    cost/.style={ellipse,draw,thin,inner sep=0.3mm},
    callfrom/.style={ellipse,minimum height=1mm,inner sep=0.5mm,fill=black,draw},
    baseCall/.style={draw,rounded corners},
    ending/.style={ellipse,draw,inner sep=1mm},
    fullexec/.style={rectangle,rounded corners, draw}, 
    label/.style={circle,draw,minimum height=8mm, font=\Large},
    bigbrace/.style={draw,decoration={brace,mirror}, decorate}
}


%%% Code Listings
\usepackage{listings}
\usepackage{pxfonts}


\lstset{
  basicstyle=\ttfamily,
  columns=fullflexible,
  keepspaces=true,
  commentstyle=\color{gray}\upshape
}

\lstdefinelanguage{XML}
{
  linewidth=0.97\textwidth,
  tabsize=3,
  frame=shadowbox,
  basicstyle=\small\ttfamily\color{black}\bfseries,
  rulesepcolor=\color{gray},
  xleftmargin=10pt,
  %framexleftmargin=15pt,
  breaklines=true,
  showstringspaces=false,
  mathescape=true,
  escapeinside={(*}{*)}, 
  morestring=[b]",
  morecomment=[s]{<?}{?>},
  stringstyle=\color{green},
  keywords=[0]{eiserver,apps,app,appinfo,acronym,title,logo,
               desc,short,long,apphelp,content,execinfo,
               cmdlineapp,parameters,serverapp,selectone,selectmany,flag,hidden,permission,allowed,excluded,user,textfield,widgets,widget,widgetinfo,able,type_param,settings,eiout,eicommands,eiactions,eicommand,eiaction,line,lines,printonconsole,highlightlines,dialogbox,writefile,setcss,addmarker,addinlinemarker,oncodelineclick,onclick,cssproperty,cssproperties,option,default,elements,selector},
  keywordstyle=[0]\color{blue}\bf,
  keywords=[1]{id,visible,src,format,prefix,url,widgetid,name,max_size,method,check,value,version,from,to,fromch,toch,dest,autoclean,outclass,consoleid,consoletitle,color,filename,boxtitle,boxheight,boxwidth},
  keywordstyle=[1]\color{orange},
  keywords=[2]{_ei_files,_ei_dirs,_ei_root,_ei_parameters,_ei_ppoints,_ei_outline,_ei_sessionid,_ei_clientid},
  keywordstyle=[2]\adjustbox{margin=0.4ex, bgcolor=red!20}
}
\lstset{language=XML}


\lstdefinestyle{script}
{mathescape=false, numbers=left, stepnumber=1, numberstyle=\tiny, numbersep=10pt, language=bash, morekeywords={esac,in}}

\lstdefinestyle{shell}
{language=bash,keywords={}}



%\adjustbox{cframe=<color> <thickness> <inner sep> <outer margin>}{<text>}
\let\lst\lstinline
\usepackage{caption}


\usepackage{xspace}

\usepackage[unicode=true,pdfusetitle,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=true,
 breaklinks=false,pdfborder={0 0 0},backref=false,colorlinks=false]
 {hyperref}

\usepackage{titlesec}
\titleformat{\chapter}[hang]{\Huge}{\thechapter\hspace{10pt}\textcolor{gray}{|}\hspace{10pt}}{0pt}{}

\usepackage[draft]{fixme}

\newcommand{\filenamee}[1]{\texttt{#1}}
\newcommand{\xml}[0]{\texttt{XML}\xspace}
\newcommand{\apps}[0]{\texttt{APPs}\xspace}
\newcommand{\app}[0]{\texttt{APP}\xspace}

\newcommand{\xmlstructrefwb}[1]{\hyperlink{\detokenize{#1}}{\mbox{\textcolor{red}{\uppercase{\small\ttfamily\bfseries #1}}}}}
\newcommand{\xmlstructref}[1]{\hyperlink{\detokenize{#1}}{\mbox{[\textcolor{red}{\uppercase{\small\ttfamily\bfseries #1}}]}}}
\newcommand{\xmlstructold}[1]{\mbox{\textcolor{red}{#1}}}


\newcommand{\xmlstructdef}[1]{\hypertarget{\detokenize{#1}}{\mbox{\textcolor{red}{\textbf{\textsf{\uppercase{\ttfamily\bfseries #1}}}}}}}




\newcommand{\xmldir}{xml}
\newcommand{\xmldirr}{xml/out}
\newcommand{\xmlstructattr}[1]{{\small\ttfamily\color{orange}\bfseries #1}}
\newcommand{\xmlstructvalue}[1]{{\small\ttfamily\color{green}\bfseries #1}}
\newcommand{\xmlstructtemplate}[1]{{\small\ttfamily\bfseries\adjustbox{margin=0.4ex, bgcolor=red!20}{\detokenize{#1}}}}

\newcommand{\xmlstruct}[3]{
\begin{mdframed}[linewidth=1pt]

\xmlstructdef{#1}\hfill

\lstinputlisting{\xmldir/#1.tex}

\noindent
\colorbox{yellow}{\textsc{Description:}}
\medskip

\noindent
#2

\bigskip
\noindent
\colorbox{yellow}{\textsc{Used in:}}
#3
\end{mdframed}
}

%% \newcommand{\xmlstruct}[3]{
%% \noindent
%% \begin{minipage}{\textwidth}
%% \hrule
%% \smallskip
%% \noindent
%% \adjustbox{margin=0.4ex, bgcolor=blue!10}{
%% \begin{minipage}{0.973\textwidth}
%% \xmlstructdef{#1}\hfill
%% \end{minipage}
%% }


%% \smallskip
%% \hrule

%% \bigskip
%% \lstinputlisting{\xmldir/#1.tex}


%% \bigskip
%% \noindent
%% \begin{minipage}{0.95\textwidth}
%% \adjustbox{margin=0.4ex, bgcolor=yellow!50}{\textsc{Description:}}
%% #2
%% \end{minipage}

%% \bigskip
%% \noindent
%% \begin{minipage}{0.95\textwidth}
%% \adjustbox{margin=0.4ex, bgcolor=yellow!50}{\textsc{Used in:}}
%% #3
%% \end{minipage}
%% \end{minipage}
%% }





\newcommand{\usedin}[1]{\begin{tabular}{@{}l@{}l@{}}\texttt{\small{used in:}} & \footnotesize{#1} \\\end{tabular}}

\newcommand{\abs}[0]{\textsc{ABS}\xspace}
\newcommand{\ei}[0]{\textsc{EasyInterface}\xspace}
\newcommand{\eiol}[0]{\textsc{EIOL}\xspace}
\newcommand{\eigithub}[0]{\url{http://github.com/abstools/easyinterface}\xspace}
\newcommand{\envisage}{\textsf{Envisage}\xspace}

% web client

\newcommand{\applybutton}[0]{\begingroup\setlength{\fboxsep}{0pt}\colorbox{blue!20}{\texttt{Apply}}\endgroup\xspace}

\newcommand{\refreshoutline}[0]{\begingroup\setlength{\fboxsep}{0pt}\colorbox{blue!20}{\texttt{Refresh Outline}}\endgroup\xspace}

\newcommand{\settingbutton}[0]{\begingroup\setlength{\fboxsep}{0pt}\colorbox{blue!20}{\texttt{Settings}}\endgroup\xspace}

\newcommand{\helpbutton}[0]{
\begingroup
\setlength{\fboxsep}{0pt}%  
\colorbox{blue!20}{\texttt{Help}}\xspace
\endgroup
}



\begin{document}

\pagestyle{empty} % Removes page numbers
\input{titlepage}

\titlespacing*{\chapter}{0cm}{0cm}{1cm}


\tableofcontents

\input{overview}
\input{quickguide}
\input{server}
\input{clients}
\input{output}

\end{document}
